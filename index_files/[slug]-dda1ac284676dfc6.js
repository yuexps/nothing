(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95549,58622],{68787:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[prefix]/[slug]",function(){return n(87460)}])},87460:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return o}});var r=n(85893),l=n(34331);let i=e=>(0,r.jsx)(l.default,{...e});var o=!0;t.default=i},34331:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return p},default:function(){return h},getRecommendPost:function(){return _}});var r=n(85893),l=n(67294),i=n(11163),o=n(58622);let u={header:0,sub_header:1,sub_sub_header:2},a=(e,t)=>{var n;let r=null!==(n=e.content)&&void 0!==n?n:[],l=function e(t,n,r){if(r||(r=[]),!t)return r;for(let d of t){var l,i,a;let t=null===(l=n.block[d])||void 0===l?void 0:l.value;if(!t)continue;let{type:c}=t;if(c.indexOf("header")>=0){let e=r.find(e=>e.id===d);e||r.push({id:d,type:c,text:(0,o.FB)(null===(a=t.properties)||void 0===a?void 0:a.title),indentLevel:u[c]})}(null===(i=t.content)||void 0===i?void 0:i.length)>0&&e(t.content,n,r)}return r}(r,t),i=[{actual:-1,effective:-1}];for(let e of l){let{indentLevel:t}=e;for(;;){let n=i[i.length-1],{actual:r,effective:l}=n;if(t>r)e.indentLevel=l+1,i.push({actual:t,effective:e.indentLevel});else if(t===r){e.indentLevel=l;break}else i.pop()}}return l};var d=n(66766),c=n(88495),f=n.n(c),s=n(74925);let v=e=>{let{post:t}=e,[n,o]=(0,l.useState)((null==t?void 0:t.password)&&(null==t?void 0:t.password)!==""),u=e=>{let n=f()(t.slug+e);return!!e&&n===t.password&&(o(!1),!0)};(0,l.useEffect)(()=>{if((null==t?void 0:t.password)&&(null==t?void 0:t.password)!=="")o(!0);else{var e;o(!1),!n&&(null==t?void 0:null===(e=t.blockMap)||void 0===e?void 0:e.block)&&(t.content=Object.keys(t.blockMap.block).filter(e=>{var n,r;return(null===(n=t.blockMap.block[e])||void 0===n?void 0:null===(r=n.value)||void 0===r?void 0:r.parent_id)===t.id}),t.toc=a(t,t.blockMap))}},[t]),e={...e,lock:n,setLock:o,validPassword:u};let c=(0,d.getLayoutByTheme)({theme:(0,s.J)("THEME"),router:(0,i.useRouter)()});return(0,r.jsx)(c,{...e})};var p=!0;function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=[],l=[],i=(null==e?void 0:e.tags)||[];for(let n=0;n<t.length;n++){let o=t[n];if(!(o.id===e.id||0>o.type.indexOf("Post")))for(let e=0;e<i.length;e++){let t=i[e];!(l.indexOf(o.id)>-1)&&o.tags&&o.tags.indexOf(t)>-1&&(r.push(o),l.push(o.id))}}return r.length>n&&(r=r.slice(0,n)),r}var h=v},58622:function(e,t,n){"use strict";n.d(t,{FB:function(){return i},Gw:function(){return a},Ho:function(){return o}}),n(13900);var r=n(55055),l=n(60910);Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var i=e=>{var t;return e?Array.isArray(e)?null!=(t=null==e?void 0:e.reduce((e,t)=>e+("⁍"!==t[0]&&"‣"!==t[0]?t[0]:""),""))?t:"":e:""};function o(e,t){var n,r;if(null!=(n=e.properties)&&n.title)return i(e.properties.title);if("collection_view_page"===e.type||"collection_view"===e.type){let n=function(e,t){var n,r,l,i,o,u,a;let d=e.collection_id||(null==(r=null==(n=e.format)?void 0:n.collection_pointer)?void 0:r.id);if(d)return d;let c=null==(l=null==e?void 0:e.view_ids)?void 0:l[0];if(c){let e=null==(o=null==(i=t.collection_view)?void 0:i[c])?void 0:o.value;if(e)return null==(a=null==(u=e.format)?void 0:u.collection_pointer)?void 0:a.id}return null}(e,t);if(n){let e=null==(r=t.collection[n])?void 0:r.value;if(e)return i(e.name)}}return""}var u=e=>{if(e&&Array.isArray(e)){if("d"===e[0])return e[1];for(let t of e){let e=u(t);if(e)return e}}return null},a=e=>e.replace(/-/g,""),d=(0,r.ZP)(e=>{if(!e)return"";try{if(e.startsWith("https://www.notion.so/image/")){let t=new URL(e),n=decodeURIComponent(t.pathname.substr(7)),r=d(n);t.pathname=`/image/${encodeURIComponent(r)}`,e=t.toString()}return(0,l.Z)(e,{stripProtocol:!0,stripWWW:!0,stripHash:!0,stripTextFragment:!0,removeQueryParameters:!0})}catch(e){return""}})}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=68787)}),_N_E=e.O()}]);